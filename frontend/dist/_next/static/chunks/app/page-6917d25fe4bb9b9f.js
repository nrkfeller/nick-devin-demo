(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{941:(e,s,t)=>{Promise.resolve().then(t.bind(t,3768))},3768:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var a=t(5155),n=t(2115);class r{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(this.baseURL).concat(e),a={headers:{"Content-Type":"application/json",...s.headers},...s};try{let e=await fetch(t,a);if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s.detail||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){if(e instanceof Error)throw e;throw Error("An unexpected error occurred")}}async getIssues(e){let s=new URLSearchParams;(null==e?void 0:e.state)&&s.append("state",e.state),(null==e?void 0:e.labels)&&s.append("labels",e.labels);let t=s.toString();return this.request("/issues".concat(t?"?".concat(t):""))}async scopeIssue(e){return this.request("/scope-issue",{method:"POST",body:JSON.stringify(e)})}async resolveIssue(e){return this.request("/resolve-issue",{method:"POST",body:JSON.stringify(e)})}async getSessions(){return this.request("/sessions")}constructor(e="https://issues-devin-backend-ljsdtpgq.fly.dev"){this.baseURL=e}}let l=new r;function i(e){let{issue:s,onScopeIssue:t,onResolveIssue:n}=e;return(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:["#",s.number," ",s.title]}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("open"===s.state?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:s.state})]}),s.body&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:[s.body.substring(0,200),s.body.length>200&&"..."]}),s.labels&&s.labels.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:s.labels.map(e=>{let s;return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:(s=e.color,"#".concat(s))},children:e.name},e.id)})}),s.assignees&&s.assignees.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Assigned to:"}),(0,a.jsxs)("div",{className:"flex -space-x-2",children:[s.assignees.slice(0,3).map(e=>(0,a.jsx)("img",{className:"h-6 w-6 rounded-full border-2 border-white",src:e.avatar_url,alt:e.login,title:e.login},e.id)),s.assignees.length>3&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["+",s.assignees.length-3," more"]})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Created: ",s.created_at?new Date(s.created_at).toLocaleDateString():"N/A"," • Updated: ",s.updated_at?new Date(s.updated_at).toLocaleDateString():"N/A"]})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2 ml-6",children:[(0,a.jsx)("button",{onClick:()=>t(s),className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Scope with Devin"}),(0,a.jsx)("button",{onClick:()=>n(s),className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors",children:"Resolve with Devin"}),(0,a.jsx)("a",{href:s.html_url,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors text-center",children:"View on GitHub"})]})]})})}function c(e){let{issues:s,loading:t,onScopeIssue:n,onResolveIssue:r}=e;return t?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading issues..."})]})}):0===s.length?(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsxs)("div",{className:"text-gray-500",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No issues found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or check your API configuration."})]})}):(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:s.map(e=>(0,a.jsx)(i,{issue:e,onScopeIssue:n,onResolveIssue:r},e.number))})}function d(e){let{filters:s,onFiltersChange:t,onRefresh:n}=e;return(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow border",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"State:"}),(0,a.jsxs)("select",{value:s.state,onChange:e=>{var a;return a=e.target.value,void t({...s,state:a})},className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"open",children:"Open"}),(0,a.jsx)("option",{value:"closed",children:"Closed"}),(0,a.jsx)("option",{value:"all",children:"All"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Labels:"}),(0,a.jsx)("input",{type:"text",placeholder:"e.g., bug,enhancement",value:s.labels||"",onChange:e=>{var a;return a=e.target.value,void t({...s,labels:a||void 0})},className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-48"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Search:"}),(0,a.jsx)("input",{type:"text",placeholder:"Search issues...",value:s.search||"",onChange:e=>{var a;return a=e.target.value,void t({...s,search:a})},className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),(0,a.jsx)("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-1 rounded-md text-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Refresh"})]})})}function o(e){let{issue:s,session:t,onClose:n}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Devin AI Session - Issue #",s.number]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s.title})]}),(0,a.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,a.jsx)("span",{className:"text-lg mr-2",children:(e=>{switch(e){case"scoping":return"\uD83D\uDD0D";case"resolving":return"⚙️";case"completed":return"✅";case"failed":return"❌";default:return"⏳"}})(t.status)}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"scoping":return"bg-blue-100 text-blue-800";case"resolving":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.status)),children:t.status})]})]}),t.confidence_score&&(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Confidence Score"}),(0,a.jsxs)("div",{className:"mt-1 text-2xl font-bold text-gray-900",children:[t.confidence_score,"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Session ID"}),(0,a.jsx)("div",{className:"mt-1 text-sm font-mono text-gray-900 break-all",children:t.devin_session_id})]})]}),t.action_plan&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Action Plan"}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,a.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.action_plan})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Progress Log"}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"font-medium",children:["[",t.created_at?new Date(t.created_at).toLocaleTimeString():"N/A","]"]})," Session started"]}),"scoping"===t.status&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"font-medium",children:["[",new Date().toLocaleTimeString(),"]"]})," Analyzing issue requirements..."]}),"resolving"===t.status&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"font-medium",children:["[",new Date().toLocaleTimeString(),"]"]})," Working on implementation..."]}),"completed"===t.status&&(0,a.jsxs)("div",{className:"text-sm text-green-600",children:[(0,a.jsxs)("span",{className:"font-medium",children:["[",t.updated_at?new Date(t.updated_at).toLocaleTimeString():"N/A","]"]})," Session completed successfully"]}),"failed"===t.status&&(0,a.jsxs)("div",{className:"text-sm text-red-600",children:[(0,a.jsxs)("span",{className:"font-medium",children:["[",t.updated_at?new Date(t.updated_at).toLocaleTimeString():"N/A","]"]})," Session failed - manual intervention required"]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t",children:[(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsx)("a",{href:s.html_url,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"View on GitHub"})}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsx)("button",{onClick:n,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"})})]})]})]})})}function m(){let[e,s]=(0,n.useState)([]),[t,r]=(0,n.useState)([]),[i,m]=(0,n.useState)({state:"open",search:""}),[x,u]=(0,n.useState)(!0),[h,g]=(0,n.useState)(null),[p,f]=(0,n.useState)(null),[b,j]=(0,n.useState)(null),[v,y]=(0,n.useState)(null),N=(0,n.useCallback)(async()=>{try{u(!0),g(null);let e=await l.getIssues({state:"all"===i.state?void 0:i.state,labels:i.labels});s(e)}catch(e){g(e instanceof Error?e.message:"Failed to load issues")}finally{u(!1)}},[i.state,i.labels]);(0,n.useEffect)(()=>{N(),w()},[N]);let w=async()=>{try{let e=await l.getSessions();r(e)}catch(e){console.error("Failed to load sessions:",e)}},S=async e=>{try{f(e);let s=await l.scopeIssue({issue_number:e.number,issue_title:e.title,issue_body:e.body});y(s),j("devin"),await w()}catch(e){g(e instanceof Error?e.message:"Failed to start scoping")}},_=async e=>{try{f(e);let s=await l.resolveIssue({issue_number:e.number});y(s),j("devin"),await w()}catch(e){g(e instanceof Error?e.message:"Failed to start resolution")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"GitHub Issues Devin Integration"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Autonomous issue management for google/meridian"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.length," issues • ",t.length," sessions"]})})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,a.jsx)("p",{children:h})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{onClick:()=>g(null),className:"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200",children:"Dismiss"})})]})]})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(d,{filters:i,onFiltersChange:m,onRefresh:N})}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsx)(c,{issues:e,loading:x,onScopeIssue:S,onResolveIssue:_})}),t.length>0&&(0,a.jsxs)("div",{className:"mt-8 bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Active Devin Sessions"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:t.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:["Issue #",e.issue_number,": ",e.issue_title]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Status: ",e.status," • Session: ",e.devin_session_id]}),e.confidence_score&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Confidence: ",e.confidence_score,"%"]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleString():"N/A"})]},e.id))})})]})]}),"devin"===b&&p&&v&&(0,a.jsx)(o,{issue:p,session:v,onClose:()=>{j(null),f(null),y(null)}})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=941)),_N_E=e.O()}]);